#-*- coding: shift-jis -*-
#:kivy 1.10.1

BoxLayout:
	orientation: 'vertical'
    spacing: 10

    sp_values: []

    Label:
        size_hint_y:None
        height: 30
        valign: 'center'
        text: '登録内容を設定して下さい。'
    
    TabbedPanel:
        id: tp
        border: 20,20,20,20
        background_color: 1,1,1,1
        do_default_tab: False

    AnchorLayout:
        anchor_x:'right'
        size_hint_y: None
        height: 40
        
        BoxLayout:
            spacing: 10
            size_hint_x: None
            width: 300
            BoxLayout:
                #size_hint_x:None
                #width: 200
                spacing: 5
                Label:
                    text: 'ファイル移動'
                    size: self.texture_size
                    halign: 'right'
                Switch:
                    id: enable_move
            Button:
                text: 'タブ消去'
                size_hint_x: None
                width: 100
                on_release: app.delete_entry(root.ids.tp)

    BoxLayout:
        size_hint_y:None
        height: 40
        spacing: 5

        Spinner:
            id: spn
            values: root.sp_values
            size_hint_x: None
            width: 150
        TextInput:
            id: tag_input
            text: ''
            hint_text:  'タグ名を入力'
            #size_hint: None,None
            #height: 40
            #width: 200 
            on_text: self.text = self.text.replace('\n',''); self.text = self.text.replace('\r',''); root.input_text = self.text
            #multiline: False
            write_tab: False
    
        Label:
            text: '頭文字'
            size_hint_x:None
            width: 80
            halign: 'right'
        Button:
            id: ic_btn_tag
            size_hint_x: None
            width: self.height
            #text: app.selected_char
            text: ''
            on_press: app.select_initial(self)
        Button:
            text: 'タグ登録'
            size_hint_x: None
            width: 100
            on_release: app.add_tag_on_entry(spn.text, tag_input.text, ic_btn_tag.text); tag_input.text=''; ic_btn_tag.text=''
 
	BoxLayout:
		orientation: 'horizontal'
        size_hint_y:None
        height:40
		Button:
			size_hint: .5, 1
			text: 'データ登録'
			on_release: app.data_entry(root.ids.tp, root.ids.enable_move.active)
 
		Button:
			size_hint: .5, 1
			text: '戻る'
			on_release: app.close_entry_popup()
