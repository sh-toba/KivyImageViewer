DataBaseScreen:
    name: 'ImageView'
    fullscreen: True

    BoxLayout:
        orientation:'vertical'

        AnchorLayout:
            anchor_x:'center'
            anchor_y:'center'
            Image:
                source: app.image_file
                allow_stretch: True
                #source: app.image_file[root.im_index]
            BoxLayout:
                Button: 
                    size_hint_x: .25
                    text : ''
                    background_color: 0,0,0,0
                    on_release: app.change_view_image('previous')
                Button: 
                    size_hint_x: .5
                    text : 'magnitude'
                    font_size: 48
                    color: 0,8,0,0.2
                    background_color: 0,0,0,0
                    on_press: print('c')
                Button: 
                    size_hint_x: .25
                    text : ''
                    background_color: 0,0,0,0
                    on_release: app.change_view_image('next')

        BoxLayout:
            orientation:'vertical'
            size_hint_y: None
            height: 70
            spacing: 0
            padding: 10
            canvas.before:
                Color:
                    rgba: 0.128, 0.128, 0.128, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            AnchorLayout:
                id: footer
                anchor_x: 'center'
                anchor_y: 'bottom'
                Label:
                    text: app.image_file
            
            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'top'

                BoxLayout:
                    size_hint_x: None
                    width: 300
                    padding: 0
                    ImageButton:
                        source: 'data/icons/go_prev.png'
                        on_release: app.change_view_image('previous')
                        nocache: True
                    Label:
                        text: '{0}/{1}'.format(app.image_idx+1, app.image_num)
                    ImageButton:
                        source: 'data/icons/go_next.png'
                        on_release: app.change_view_image('next')
                        nocache: True
