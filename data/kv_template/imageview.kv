#-*- coding: shift-jis -*-
#:kivy 1.10.1

DataBaseScreen:
    name: 'ImageView'
    fullscreen: True

    anim_speed: 0.05

    BoxLayout:
        orientation:'vertical'

        AnchorLayout:
            anchor_x:'center'
            anchor_y: 'center'

            Image:
                source: app.image_file_path
                allow_stretch: True
                anim_delay: root.anim_speed
                
            BoxLayout:
                Button: 
                    size_hint_x: .25
                    text : ''
                    background_color: 0,0,0,0
                    on_release: app.change_view_image('previous')
                BoxLayout:
                    orientation:'vertical'
                    size_hint_x: .5
                    Button: 
                        size_hint_y: .25
                        text : ''
                        font_size: 48
                        color: 0,8,0,0.2
                        background_color: 0,0,0,0
                        on_press: app.change_anim_speed(root, 'up')
                    Button: 
                        size_hint_y: .5
                        text : ''
                        font_size: 48
                        color: 0,8,0,0.2
                        background_color: 0,0,0,0
                        on_press: app.change_view_fullscreen()
                    Button: 
                        size_hint_y: .25
                        text : ''
                        font_size: 48
                        color: 0,8,0,0.2
                        background_color: 0,0,0,0
                        on_press: app.change_anim_speed(root, 'down')
                Button: 
                    size_hint_x: .25
                    text : ''
                    background_color: 0,0,0,0
                    on_release: app.change_view_image('next')

        BoxLayout:
            id: iv_footer
            orientation:'vertical'
            size_hint_y: None
            height: 70
            spacing: 0
            padding: 10
            canvas.before:
                Color:
                    rgba: 0.128, 0.128, 0.128, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            AnchorLayout:
                id: footer
                anchor_x: 'center'
                anchor_y: 'bottom'
                Label:
                    text: app.image_file_name
                    color: [1,1,1,0] if app.hide_menu else [1, 1, 1, 1]
            
            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'top'

                BoxLayout:
                    size_hint_x: None
                    width: 300
                    padding: 0
                    ImageButton:
                        source: 'data/icons/go_prev.png'
                        on_release: app.change_view_image('previous')
                        nocache: True
                    Label:
                        text: '{0}/{1}'.format(app.image_idx+1, app.image_num)
                        color: [1,1,1,0] if app.hide_menu else [1, 1, 1, 1]
                    ImageButton:
                        source: 'data/icons/go_next.png'
                        on_release: app.change_view_image('next')
                        nocache: True
