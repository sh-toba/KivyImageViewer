DataBaseScreen:
    name: 'ThumbnailView'
    fullscreen: True
    thumbnail_cols: 4

    BoxLayout:
        orientation:'vertical'

        StackLayout:
            orientation: 
            size_hint_y: None
            height: 0
        
        AnchorLayout:
            anchor_x:'center'
            ScrollView:
                StackLayout:
                    id: thumbnails

                    orientation: 'lr-tb'

                    padding: 20
                    spacing: 10
                    
                    #cols: root.thumbnail_cols
                    size_hint_y: None  #スクロール可能条件①を満たす
                    #row_default_height: 120 #rowのheightを指定
                    height: self.minimum_height
        
        BoxLayout:
            orientation:'vertical'
            size_hint_y: None
            height: 70
            spacing: 0
            padding: 10
            canvas.before:
                Color:
                    rgba: 0.128, 0.128, 0.128, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            AnchorLayout:
                id: footer
                anchor_x: 'center'
                anchor_y: 'bottom'

                BoxLayout:
                    id: jump_layout
                    size_hint_x: None
                    width: 300
                    padding: 0
            
            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'top'
                Label:
                    text: '{0}-{1} of {2}'.format(app.divided_slice[0]+1, app.divided_slice[1]+1, app.image_num)

<ThumbnailJump@Button>:
    text: ''
    font_size: 16
    background_color: 0.6, 0.6, 0.6, 0.8
    on_press: app.reload_thumbnails(self)

<JumpPopUp@BoxLayout>:
	orientation: 'vertical'

	Label:
		size_hint: 1, .9
		text: 'Jump to page:(1-{})'.format(app.divided_num)
 
	BoxLayout:
		size_hint: 1, .1
		orientation: 'horizontal'
 
		Button:
			size_hint: .5, 1
			text: 'OK'
			on_release: app.close_popup()
 
		Button:
			size_hint: .5, 1
			text: 'キャンセル'
			on_release: app.close_popup()
