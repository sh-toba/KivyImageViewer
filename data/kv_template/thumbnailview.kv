DataBaseScreen:
    name: 'ThumbnailView'
    fullscreen: True

    BoxLayout:
        orientation:'vertical'
        
        ScrollView:
            StackLayout:
                id: thumbnails

                orientation: 'lr-tb'

                padding: 20
                spacing: 10
                
                size_hint_y: None
                height: self.minimum_height

        
        BoxLayout:
            orientation:'vertical'
            size_hint_y: None
            height: 70
            spacing: 0
            padding: 10
            canvas.before:
                Color:
                    rgba: 0.128, 0.128, 0.128, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            AnchorLayout:
                id: footer
                anchor_x: 'center'
                anchor_y: 'bottom'

                BoxLayout:
                    id: jump_layout
                    size_hint_x: None
                    width: 300
                    padding: 0
            
            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'top'
                Label:
                    text: '{0}-{1} of {2}'.format(app.divided_slice[0]+1, app.divided_slice[1]+1, app.image_num)


<ThumbnailJump@Button>:
    text: ''
    font_size: 16
    background_color: 0.6, 0.6, 0.6, 0.8
    on_press: app.reload_thumbnailview(self)

<JumpPopUp@BoxLayout>:
	orientation: 'vertical'
    spacing: 10
    
    input_text: ''

    AnchorLayout:
        anchor_x:'center'
        size_hint_y:None
        height: 30
        TextInput:
            text: ''
            hint_text:  '1 - {}'.format(app.divided_num)
            on_text: root.input_text = self.text
 
	BoxLayout:
		orientation: 'horizontal'
		Button:
			size_hint: .5, 1
			text: 'OK'
			on_release: app.jump_thumbnail(root.input_text)
 
		Button:
			size_hint: .5, 1
			text: 'ƒLƒƒƒ“ƒZƒ‹'
			on_release: app.close_popup()
